# 2024/1/14
# 1. 定期和惰性一定能保证删除数据吗？如果不能，Redis 会有什么应对措施？


# 2. static 的用法和作用
1.隐藏：当同时编译多个文件时，所有未加 static 前缀的全局变量和函数都具有全局可见性。        
2. static 的第二个作用是保持变量内容的持久。存储在静态数据区的变量会在程序刚开始运行时就完成初始化，也是唯一的一次初始化。  
3. static 的第三个作用是默认初始化为 0  
4. C++ 中的类成员声明 static

# 3. move 了解吗？有什么作用？
是一种高效的资源转移机制，可以帮助我们避免不必要的拷贝操作，提高程序性能。  

# 4. 缓存中常说的热点数据和冷数据是什么？
热数据就是访问次数较多的数据，冷数据就是访问很少或者从不访问的数据。    
需要注意的是只有热点数据。缓存才有价值      
**数据更新前至少读取两次**缓存才有意义。这个是最基本的策略，如果缓存还没有起作用就失效了，那就没有太大的价值了。

# 5. 抛硬币，先抛到正面算赢，否则轮流泡。问先抛的人获胜的概率
(1, 0) (1, 1) (0, 1)    
(0, 0)重新来

所以 2/3

# 6. 线程切换有哪些状态需要切换
线程切换是指在多个线程程序中，当一个线程执行完毕后，操作系统需要将 CPU 分配给另一个线程执行的过程。线程切换涉及到多个状态的转换。       
**以下是一些常见的状态**
1. 就绪状态：线程已经准备好运行，但是还没有分配到 CPU 上执行。      
2. 运行状态：线程已经被分配到 CPU 上执行，正在运行。
3. 阻塞状态：线程因为某些原为无法继续执行，例如等待 I/O 操作完成、等待锁释放
4. 等待状态：线程在等待其他线程或系统资源的操作完成，例如等待信号量、条件变量等。
5. 终止状态：线程已经执行完毕或者被强制终止。

一般来说，操作系统会优先选择就绪状态和运行状态的线程进行切换，以提高程序的性能和响应速度。

# 7. STL 中 unordered_map 和 map 的区别和应用场景，set、unordered_set
### map
map 支持键值的自动排序，底层机制是红黑树，红黑树的查询和维护时间复杂度均为 $O(logn)$，但是空间占用比较大，因为每个节点都要保持父节点、孩子节点及颜色的信息。
### set
set 与 map 类似，set 的底层实现通常也是红黑树。set 是一种特殊的 Map，只有键没有值。
### unordered_map 
unordered_map 是 C++11 新添加的容器，底层机制是哈希表，通过 hash 函数计算元素位置，其查询时间复杂度为 $O(1)$，维护时间与桶所维护的 list 长度有关，但是建立 hash 表耗时比较大。
### unordered_set
unordered_set 与 unordered_map 类似，unordered_set 的底层实现通常也是哈希表。unordered_set 是一种特殊的 unordered_map，只有键没有值。

# 8. AOF 重写了解吗？可以简单说说吗？

# 9. 为什么需要三次握手，两次不行吗？
三次握手可以确认双方的接收与发送能力是否正常。  
两次握手会浪费资源。

# 10. 假如 MySQL 有 1000 万数据，采用 Redis 作为中间缓存，取其中的 10 万，如何保证 Redis 中的数据都是热点数据？

# 11. C++ 的多态是如何实现的？
静态多态：重载等

动态多态：虚函数

# 12. Redis 如何才能做到高可用？

# 13. C++ 和 Python 哪一个更快
C++ 更快。  
C++ 是编译型语言，可以直接编译成机器码，在执行时不需要解释器的介入，因此执行效率较高。      
Python 是解释型语言，需要在运行时通过解释器将代码转换为机器码来执行。因此相对于 C++ 而言，执行效率较低。

# 14. 数据库的事务隔离级别有哪些？
### 未提交读
### 提交读
### 重复读
### 可串行化读

# 15. 说一说 Drop、Delete 与 Truncate 的共同点和区别
* delete 用来删除表的全部或者一部分行，执行 delete 之后，用户需要提交或者回滚来执行删除或者撤销删除，会触发这个表上的所有的 delete 触发器
* Truncate 删除表中的所有数据，这个操作不能回滚，也不会触发这个表上的触发器，Truncate 比 delete 更快，占用的空间更小。
* Drop 命令从数据库中删除表，所有的数据行，索引和权限也会被删除，所有的 DML 触发器也不会被触发，这个命令也不能回滚

因此，在不需要一张表的时候，用 Drop；在想删除部分数据行的时候用 Delete；在保留表而删除所有数据的时候用 Truncate

# 16. 分段和分页的区别
### 分页
页与页之间是紧密排列的，所以不会有外部内存碎片，会有内部内存碎片。      
内存交换的效率会比较高      
有内存上的缺陷。   

### 分段
栈段、数据段、堆段、代码段      
会有外部内存碎片，不会有内部内存碎片             
效率低

# 17. 什么是非关系型数据库
非关系型数据库也叫 NOSQL，采用键值对的形式进行存储      
它的读写性能很高，易于扩展，可分为内存型数据库以及文档型数据库，比如 Redis、Mongodb、Hbase 等等。       
适合非关系型数据库的场景。      
1. 日志系统
2. 地理位置存储
3. 数据量巨大
4. 高可用

# 18. 友元函数和友元类的基本情况
### 友元函数
友元函数是定义在类外的普通函数，不属于任何类，可以访问其他类的私有成员。但是需要在类的定义中声明所有可以访问它的友元函数。      
一个函数可以是多个类的友元函数，但是每个类中都要声明这个函数。
### 友元类
友元类的所有成员函数都是另一个类的友元函数，都可以访问另一个类中的隐藏信息（包括私有成员和保护成员）。      
但是另一个类里面也要相应的进行声明。
### 使用友元类时注意
1. 友元关系不能被继承
2. 友元关系是单向的
3. 友元关系不具有传递性。

# 19. 不可重复读和幻读区别是什么？可以举个例子吗？
**不可重复读的重点是修改，幻读的重点在于新增或者删除**
* 距离：修改和插入

# 20. HTTPS 采用的加密方式有哪些？是对称还是非对称？
混合加密：用非对称密钥加密用于传输对称密钥来保证传输过程的安全性，之后使用对称密钥加密进行通信来保证通信过程的效率。